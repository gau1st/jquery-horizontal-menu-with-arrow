
<div class="left-filter" >
  <div class="menu-wrapper">
    <ul class="menu">
      <li class="item">
        <p style="width: 200px;">1</p>
      </li>
      <li class="item">2</li>
      <li class="item">3</li>
      <li class="item">4</li>
      <li class="item">5</li>
      <li class="item">6</li>
      <li class="item">7</li>
      <li class="item">8</li>
      <li class="item">9</li>
      <li class="item">6</li>
      <li class="item">7</li>
      <li class="item">8</li>
    </ul>
    <div class="paddles">
      <button class="left-paddle paddle hidden"><</button>
      <button class="right-paddle paddle">></button>
    </div>
  </div>
  <!-- <div class="hovered-menu">
  </div> -->
</div>

<style>

.left-filter .menu-wrapper {
  position: relative;
  max-width: 100%;
  height: 50px;
  margin: 1em auto;
  border: 1px solid black;
  overflow-x: hidden;
  overflow-y: hidden;
}

.left-filter .menu	{
  height: 120px;
  background: #f3f3f3;
  box-sizing: border-box;
  white-space: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  padding: 0;
  font-size: 0;
}
.left-filter .menu .item {
  display: inline-block;
  min-width: 100px;
  width: auto;
  height: 50px;
  /* outline: 1px dotted gray; */
  padding: 0;
  padding-left: 20px;
  padding-right: 20px;
  box-sizing: border-box;
  font-size: 16px;
}

.left-filter .paddles {
}
.left-filter .paddle {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 3em;
}
.left-filter .left-paddle {
  left: 0;
}
.left-filter .right-paddle {
  right: 0;
}
.left-filter .hidden {
  display: none;
}

.left-filter .print {
  margin: auto;
  max-width: 500px;
}

.left-filter .print span {
  display: inline-block;
  width: 100px;
}

.left-filter .hovered-menu {
  position: absolute;
  width: 100%;
  height: 200px;
  left: 0;
  background: red;
  z-index: 1;
}
</style>

<!-- Include Jquery here -->

<!-- Horizontal Scroll -->
<script>
// duration of scroll animation
var scrollDuration = 300;
// paddles
var leftPaddle = document.getElementsByClassName('left-paddle');
var rightPaddle = document.getElementsByClassName('right-paddle');
// get some relevant size for the paddle triggering point
var paddleMargin = 20;

// get wrapper width
var getMenuWrapperSize = function() {
	return $('.left-filter .menu-wrapper').outerWidth();
}
var menuWrapperSize = getMenuWrapperSize();

// the wrapper is responsive
$(window).on('resize', function() {
	menuWrapperSize = getMenuWrapperSize();
});
// size of the visible part of the menu is equal as the wrapper size
var menuVisibleSize = menuWrapperSize;

// get total width of all menu items
var getMenuSize = function() {
  var totalSize = 0;
  $('.left-filter .item').each(function(){
    totalSize += $(this).outerWidth(true);
  });
	return totalSize;
};

var menuSize = getMenuSize();

// get how much of menu is invisible
var menuInvisibleSize = menuSize - menuWrapperSize;

// get how much have we scrolled to the left
var getMenuPosition = function() {
	return $('.left-filter .menu').scrollLeft();
};


// finally, what happens when we are actually scrolling the menu
$('.left-filter .menu').on('scroll', function() {

	// get how much of menu is invisible
	menuInvisibleSize = menuSize - menuWrapperSize;
	// get how much have we scrolled so far
	var menuPosition = getMenuPosition();

	var menuEndOffset = menuInvisibleSize - paddleMargin;

	// show & hide the paddles
	// depending on scroll position
	if (menuPosition <= paddleMargin) {
		$(leftPaddle).addClass('hidden');
		$(rightPaddle).removeClass('hidden');
	} else if (menuPosition < menuEndOffset) {
		// show both paddles in the middle
		$(leftPaddle).removeClass('hidden');
		$(rightPaddle).removeClass('hidden');
	} else if (menuPosition >= menuEndOffset) {
		$(leftPaddle).removeClass('hidden');
		$(rightPaddle).addClass('hidden');

  }


  // print important values
	$('#print-wrapper-size span').text(menuWrapperSize);
	$('#print-menu-size span').text(menuSize);
	$('#print-menu-invisible-size span').text(menuInvisibleSize);
	$('#print-menu-position span').text(menuPosition);


});

$(window).resize(function(){
  // get how much of menu is invisible
  menuInvisibleSize = menuSize - menuWrapperSize;
  // get how much have we scrolled so far
  var menuPosition = getMenuPosition();

  var menuEndOffset = menuInvisibleSize - paddleMargin;


  if (menuInvisibleSize <= 20) {
    $(rightPaddle).addClass('hidden');
  } else {
    $(rightPaddle).removeClass('hidden');
  }

  // print important values
  $('#print-wrapper-size span').text(menuWrapperSize);
  $('#print-menu-size span').text(menuSize);
  $('#print-menu-invisible-size span').text(menuInvisibleSize);
  $('#print-menu-position span').text(menuPosition);
});

// get how much of menu is invisible
menuInvisibleSize = menuSize - menuWrapperSize;
// get how much have we scrolled so far
var menuPosition = getMenuPosition();

var menuEndOffset = menuInvisibleSize - paddleMargin;


if (menuInvisibleSize <= 20) {
  $(rightPaddle).addClass('hidden');
} else {
  $(rightPaddle).addClass('remove-class');
}

// print important values
$('#print-wrapper-size span').text(menuWrapperSize);
$('#print-menu-size span').text(menuSize);
$('#print-menu-invisible-size span').text(menuInvisibleSize);
$('#print-menu-position span').text(menuPosition);

// scroll to left
$(rightPaddle).on('click', function() {
	$('.left-filter .menu').animate( { scrollLeft: getMenuPosition() + 100}, scrollDuration);
});

// scroll to right
$(leftPaddle).on('click', function() {
	$('.left-filter .menu').animate( { scrollLeft: getMenuPosition() - 100 }, scrollDuration);
});
</script>
